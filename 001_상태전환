# ìƒíƒœ ì „í™˜ ë‹¤ì´ì–´ê·¸ë¨

## ğŸ”˜ Button ìƒíƒœ ì „í™˜

### ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨
```mermaid
stateDiagram-v2
    [*] --> Default
    
    Default --> Hover : ë§ˆìš°ìŠ¤ ì§„ì…
    Default --> Loading : loading=true
    Default --> Disabled : disabled=true
    
    Hover --> Default : ë§ˆìš°ìŠ¤ ì´íƒˆ
    Hover --> Active : ë§ˆìš°ìŠ¤ í´ë¦­
    Hover --> Loading : loading=true
    
    Active --> Hover : ë§ˆìš°ìŠ¤ ë¦´ë¦¬ì¦ˆ
    Active --> Default : ë§ˆìš°ìŠ¤ ì´íƒˆ
    
    Loading --> Default : loading=false
    Loading --> Disabled : disabled=true
    
    Disabled --> Default : disabled=false
    
    Default --> [*]
```

### ìƒíƒœë³„ ì†ì„±
```typescript
interface ButtonStateMap {
  default: {
    scale: 1;
    opacity: 1;
    cursor: 'pointer';
    userInteraction: true;
  };
  
  hover: {
    scale: 1.01;
    opacity: 1;
    cursor: 'pointer';
    userInteraction: true;
    shadow: 'enhanced';
  };
  
  active: {
    scale: 0.99;
    opacity: 1;
    cursor: 'pointer';
    userInteraction: true;
    shadow: 'inner';
  };
  
  loading: {
    scale: 1;
    opacity: 0.8;
    cursor: 'not-allowed';
    userInteraction: false;
    icon: 'spinner';
  };
  
  disabled: {
    scale: 1;
    opacity: 0.5;
    cursor: 'not-allowed';
    userInteraction: false;
  };
}
```

### ì „í™˜ ì¡°ê±´ ë° íƒ€ì´ë°
```typescript
const buttonTransitions = {
  // Default â†’ Hover (150ms)
  defaultToHover: {
    trigger: 'mouseEnter',
    duration: 150,
    easing: 'easeOut',
    properties: ['scale', 'shadow']
  },
  
  // Hover â†’ Active (100ms)
  hoverToActive: {
    trigger: 'mouseDown',
    duration: 100,
    easing: 'easeInOut',
    properties: ['scale']
  },
  
  // Any â†’ Loading (200ms)
  anyToLoading: {
    trigger: 'loading=true',
    duration: 200,
    easing: 'easeOut',
    properties: ['opacity', 'cursor']
  },
  
  // Any â†’ Disabled (instant)
  anyToDisabled: {
    trigger: 'disabled=true',
    duration: 0,
    properties: ['opacity', 'cursor', 'userInteraction']
  }
};
```

## ğŸ“ Input ìƒíƒœ ì „í™˜

### ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨
```mermaid
stateDiagram-v2
    [*] --> Default
    
    Default --> Focused : í¬ì»¤ìŠ¤ ì§„ì…
    Default --> Error : error ë©”ì‹œì§€ ì„¤ì •
    Default --> Success : success ë©”ì‹œì§€ ì„¤ì •
    Default --> Disabled : disabled=true
    
    Focused --> Default : í¬ì»¤ìŠ¤ ì´íƒˆ (ê°’ ì—†ìŒ)
    Focused --> Filled : í¬ì»¤ìŠ¤ ì´íƒˆ (ê°’ ìˆìŒ)
    Focused --> Error : ê²€ì¦ ì‹¤íŒ¨
    
    Filled --> Focused : í¬ì»¤ìŠ¤ ì¬ì§„ì…
    Filled --> Error : ê²€ì¦ ì‹¤íŒ¨
    Filled --> Success : ê²€ì¦ ì„±ê³µ
    
    Error --> Focused : í¬ì»¤ìŠ¤ ì§„ì…
    Error --> Default : error ë©”ì‹œì§€ ì œê±°
    Error --> Success : ê²€ì¦ ì„±ê³µ
    
    Success --> Focused : í¬ì»¤ìŠ¤ ì§„ì…
    Success --> Default : success ë©”ì‹œì§€ ì œê±°
    Success --> Error : ê²€ì¦ ì‹¤íŒ¨
    
    Disabled --> Default : disabled=false
    
    Default --> [*]
    Filled --> [*]
    Error --> [*]
    Success --> [*]
```

### ìƒíƒœë³„ ì‹œê°ì  ë³€í™”
```typescript
interface InputStateMap {
  default: {
    borderColor: 'var(--color-neutral-dark-gray)';
    backgroundColor: 'var(--color-primary-charcoal)';
    labelPosition: 'placeholder';
    underlineVisible: false;
  };
  
  focused: {
    borderColor: 'var(--color-gradient-2)';
    backgroundColor: 'var(--color-primary-charcoal)';
    labelPosition: 'top';
    underlineVisible: true; // gradient variantë§Œ
    scale: 1.01;
    shadow: 'focus-ring';
  };
  
  filled: {
    borderColor: 'var(--color-neutral-dark-gray)';
    backgroundColor: 'var(--color-primary-charcoal)';
    labelPosition: 'top';
    underlineVisible: false;
  };
  
  error: {
    borderColor: 'var(--color-semantic-error)';
    backgroundColor: 'var(--color-semantic-error)/10';
    labelPosition: 'top';
    labelColor: 'var(--color-semantic-error)';
    messageVisible: true;
    messageType: 'error';
  };
  
  success: {
    borderColor: 'var(--color-semantic-success)';
    backgroundColor: 'var(--color-semantic-success)/10';
    labelPosition: 'top';
    labelColor: 'var(--color-semantic-success)';
    messageVisible: true;
    messageType: 'success';
  };
  
  disabled: {
    borderColor: 'var(--color-neutral-dark-gray)/50';
    backgroundColor: 'var(--color-primary-charcoal)/50';
    opacity: 0.5;
    cursor: 'not-allowed';
    userInteraction: false;
  };
}
```

### ë¼ë²¨ ì• ë‹ˆë©”ì´ì…˜ ì „í™˜
```typescript
const labelTransitions = {
  // Placeholder â†’ Top (í¬ì»¤ìŠ¤ ì‹œ)
  placeholderToTop: {
    duration: 200,
    easing: 'easeOut',
    properties: {
      y: 'from-center to-top',
      scale: 'from-1 to-0.85',
      color: 'from-muted to-primary'
    }
  },
  
  // Top â†’ Placeholder (ê°’ ì—†ì´ í¬ì»¤ìŠ¤ í•´ì œ)
  topToPlaceholder: {
    duration: 200,
    easing: 'easeOut',
    properties: {
      y: 'from-top to-center',
      scale: 'from-0.85 to-1',
      color: 'from-primary to-muted'
    }
  }
};
```

## ğŸ”„ LoadingSpinner ìƒíƒœ ì „í™˜

### ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨
```mermaid
stateDiagram-v2
    [*] --> Hidden
    
    Hidden --> Spinning : ë¡œë”© ì‹œì‘
    Spinning --> Hidden : ë¡œë”© ì™„ë£Œ
    
    Spinning --> Spinning : ê³„ì† íšŒì „
```

### ì• ë‹ˆë©”ì´ì…˜ ì†ì„±
```typescript
const spinnerStates = {
  hidden: {
    opacity: 0,
    display: 'none'
  },
  
  spinning: {
    opacity: 1,
    display: 'block',
    animation: {
      rotate: '0deg to 360deg',
      duration: '1s',
      iteration: 'infinite',
      easing: 'linear'
    }
  }
};
```

## ğŸ“Š ProgressLoader ìƒíƒœ ì „í™˜

### ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨
```mermaid
stateDiagram-v2
    [*] --> Idle
    
    Idle --> Preparing : isLoading=true
    Preparing --> Uploading : progress > 30%
    Uploading --> Finalizing : progress > 70%
    Finalizing --> Complete : progress = 100%
    Complete --> Idle : onComplete() í˜¸ì¶œ
    
    note right of Preparing : "íŒŒì¼ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤..."
    note right of Uploading : "ì—…ë¡œë“œ ì¤‘ì…ë‹ˆë‹¤..."
    note right of Finalizing : "ê±°ì˜ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤..."
    note right of Complete : "ì—…ë¡œë“œ ì™„ë£Œ!"
```

### ì§„í–‰ë¥ ë³„ ë©”ì‹œì§€ ë° ìŠ¤íƒ€ì¼
```typescript
interface ProgressStateMap {
  idle: {
    visible: false;
    progress: 0;
    message: '';
  };
  
  preparing: {
    visible: true;
    progress: '0% - 30%';
    message: 'íŒŒì¼ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤...';
    barColor: 'var(--color-gradient-1)';
    textColor: 'var(--color-text-secondary-gray)';
  };
  
  uploading: {
    visible: true;
    progress: '30% - 70%';
    message: 'ì—…ë¡œë“œ ì¤‘ì…ë‹ˆë‹¤...';
    barColor: 'var(--color-gradient-2)';
    textColor: 'var(--color-text-secondary-gray)';
  };
  
  finalizing: {
    visible: true;
    progress: '70% - 99%';
    message: 'ê±°ì˜ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤...';
    barColor: 'var(--color-gradient-3)';
    textColor: 'var(--color-text-secondary-gray)';
  };
  
  complete: {
    visible: true;
    progress: '100%';
    message: 'ì—…ë¡œë“œ ì™„ë£Œ!';
    barColor: 'var(--color-semantic-success)';
    textColor: 'var(--color-semantic-success)';
    celebration: true; // ì™„ë£Œ ì• ë‹ˆë©”ì´ì…˜
  };
}
```

## ğŸ¯ ë³µí•© ìƒíƒœ ê´€ë¦¬

### í¼ ìƒíƒœ ì „í™˜
```mermaid
stateDiagram-v2
    [*] --> FormIdle
    
    FormIdle --> FormFilling : ì²« ë²ˆì§¸ í•„ë“œ í¬ì»¤ìŠ¤
    FormFilling --> FormValidating : ì œì¶œ ë²„íŠ¼ í´ë¦­
    FormValidating --> FormError : ê²€ì¦ ì‹¤íŒ¨
    FormValidating --> FormSubmitting : ê²€ì¦ ì„±ê³µ
    FormSubmitting --> FormSuccess : ì œì¶œ ì„±ê³µ
    FormSubmitting --> FormError : ì œì¶œ ì‹¤íŒ¨
    
    FormError --> FormFilling : ìˆ˜ì • ì‹œì‘
    FormSuccess --> FormIdle : í¼ ë¦¬ì…‹
    
    note right of FormValidating : ëª¨ë“  í•„ë“œ ê²€ì¦
    note right of FormSubmitting : ì„œë²„ ìš”ì²­ ì¤‘
    note right of FormSuccess : ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
```

### í¼ ìƒíƒœë³„ UI ë³€í™”
```typescript
interface FormStateMap {
  idle: {
    submitButton: { disabled: false, loading: false, text: 'ì œì¶œ' };
    inputs: { state: 'default' };
    messages: { visible: false };
  };
  
  filling: {
    submitButton: { disabled: false, loading: false, text: 'ì œì¶œ' };
    inputs: { state: 'interactive' };
    messages: { visible: false };
  };
  
  validating: {
    submitButton: { disabled: true, loading: false, text: 'ê²€ì¦ ì¤‘...' };
    inputs: { state: 'readonly' };
    messages: { visible: false };
  };
  
  submitting: {
    submitButton: { disabled: true, loading: true, text: 'ì œì¶œ ì¤‘...' };
    inputs: { state: 'disabled' };
    messages: { visible: false };
  };
  
  error: {
    submitButton: { disabled: false, loading: false, text: 'ë‹¤ì‹œ ì‹œë„' };
    inputs: { state: 'error' };
    messages: { visible: true, type: 'error' };
  };
  
  success: {
    submitButton: { disabled: true, loading: false, text: 'ì™„ë£Œ' };
    inputs: { state: 'success' };
    messages: { visible: true, type: 'success' };
  };
}
```

## ğŸ”§ ìƒíƒœ ê´€ë¦¬ êµ¬í˜„

### React Hook ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
```typescript
// ë²„íŠ¼ ìƒíƒœ í›…
export const useButtonState = (initialProps: ButtonProps) => {
  const [state, setState] = useState<ButtonState>('default');
  const [isLoading, setIsLoading] = useState(false);
  
  const handleMouseEnter = () => {
    if (state === 'default' && !isLoading) {
      setState('hover');
    }
  };
  
  const handleMouseLeave = () => {
    if (state === 'hover' || state === 'active') {
      setState('default');
    }
  };
  
  const handleMouseDown = () => {
    if (state === 'hover') {
      setState('active');
    }
  };
  
  const handleMouseUp = () => {
    if (state === 'active') {
      setState('hover');
    }
  };
  
  return {
    state,
    isLoading,
    setIsLoading,
    handlers: {
      onMouseEnter: handleMouseEnter,
      onMouseLeave: handleMouseLeave,
      onMouseDown: handleMouseDown,
      onMouseUp: handleMouseUp
    }
  };
};

// ì¸í’‹ ìƒíƒœ í›…
export const useInputState = (initialProps: InputProps) => {
  const [state, setState] = useState<InputState>('default');
  const [isFocused, setIsFocused] = useState(false);
  const [value, setValue] = useState('');
  
  const handleFocus = () => {
    setIsFocused(true);
    setState('focused');
  };
  
  const handleBlur = () => {
    setIsFocused(false);
    setState(value ? 'filled' : 'default');
  };
  
  const handleChange = (newValue: string) => {
    setValue(newValue);
    if (state === 'error' && newValue) {
      setState('focused');
    }
  };
  
  return {
    state,
    isFocused,
    value,
    setValue,
    setState,
    handlers: {
      onFocus: handleFocus,
      onBlur: handleBlur,
      onChange: handleChange
    }
  };
};
```

### ìƒíƒœ ì „í™˜ ë¡œê¹… (ê°œë°œìš©)
```typescript
// ìƒíƒœ ë³€í™” ë””ë²„ê¹…
export const useStateLogger = (componentName: string, state: string) => {
  useEffect(() => {
    if (process.env.NODE_ENV === 'development') {
      console.log(`[${componentName}] State changed to: ${state}`);
    }
  }, [componentName, state]);
};

// ì‚¬ìš© ì˜ˆì‹œ
const Button = (props: ButtonProps) => {
  const [state, setState] = useState('default');
  useStateLogger('Button', state);
  
  // ì»´í¬ë„ŒíŠ¸ ë¡œì§
};
```

ì´ ë¬¸ì„œë“¤ì€ ê°œë°œíŒ€ì´ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œì„ ì •í™•íˆ ì´í•´í•˜ê³  ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì™„ì „í•œ ì°¸ì¡° ìë£Œì…ë‹ˆë‹¤.
